# 文档更新规则（最少必要）

## 1. 目标

用最少成本保持“需求、技术、测试、发布”信息始终一致，避免只改代码不改文档。

## 2. 长期维护文档

- `docs/requirements.md`：当前有效需求与验收标准（不做历史流水账）。
- `docs/technical.md`：当前实现架构与关键技术决策。
- `docs/testing.md`：当前测试策略、关键用例、执行命令、门禁标准。
- `docs/CHANGELOG.md`：历史版本变更总账（每次发布必更新）。

## 3. 何时更新

- 需求变化：更新 `requirements.md`。
- 实现或架构变化：更新 `technical.md`。
- 测试策略/用例/命令变化：更新 `testing.md`。
- 每次发布：更新 `CHANGELOG.md`（含版本号、日期、变更摘要）。

## 4. 最小发布文档流程

1. 先更新 `CHANGELOG.md` 的 `[Unreleased]`。
2. 确认 `requirements/technical/testing` 与本次改动一致。
3. 运行自动化测试并记录结果。
4. 提交代码与文档，打版本 tag。
5. 发布后将 `[Unreleased]` 整理到版本块（如 `v0.2.1`）。

## 5. 文档粒度原则

- 文档只写“当前必须知道的信息”，避免冗长历史讨论。
- 历史只保留在 `CHANGELOG.md`，其他文档保持可读和可执行。
- 每次迭代至少保证：代码改了，相关文档同步改。

